(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1262:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.match;return n.default.createElement(a.Switch,null,n.default.createElement(a.Route,{path:t.url+"/:id",component:i.default}),n.default.createElement(a.Route,{path:""+t.url,component:o.default}))};var n=l(r(0)),a=r(31),o=l(r(3150)),i=l(r(3151));function l(e){return e&&e.__esModule?e:{default:e}}},1273:function(e,t,r){e.exports=r(4)(284)},1275:function(e,t,r){e.exports=r(4)(33)},1277:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i,l,u,s,c,d,f,p,m,b,h,y,v,g,_,w,E,P,O,k,j,C,L,S,N,M,T,I,x,z,R,A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),U=r(103),F=r(25),V=r(117),q=Y(r(22)),J=Y(r(73)),B=r(468),G=r(1281),H=Y(r(1292));function Y(e){return e&&e.__esModule?e:{default:e}}function Z(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t,r,n,a){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Q=(n=function(e){function t(){var e,r,n;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var A=arguments.length,D=Array(A),U=0;U<A;U++)D[U]=arguments[U];return(r=n=W(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(D)))).listUrl="/api/problems/",n.detailUrl="/api/problems/detail/",Z(n,"votedInterviewProblems",a,n),Z(n,"language",o,n),Z(n,"acceptLanguages",i,n),Z(n,"code",l,n),Z(n,"editorModalVisible",u,n),Z(n,"editModeEnabled",s,n),Z(n,"hasFollowed",c,n),Z(n,"recommendProblems",d,n),Z(n,"from",f,n),Z(n,"fromId",p,n),Z(n,"ACModalVisible",m,n),Z(n,"ChallengeFailedModalVisible",b,n),Z(n,"inEnglish",h,n),Z(n,"rememberVisible",y,n),Z(n,"player",v,n),Z(n,"isEnd",g,n),Z(n,"setFromId",_,n),Z(n,"setFrom",w,n),Z(n,"setModalVisible",E,n),Z(n,"switchEditorModalVisible",P,n),Z(n,"setACModalVisible",O,n),Z(n,"setChallengeFailedModalVisible",k,n),Z(n,"setInEnglish",j,n),Z(n,"fetchTranslation",C,n),Z(n,"followProblem",L,n),Z(n,"unfollowProblem",S,n),Z(n,"rememberProblem",N,n),Z(n,"forgetProblem",M,n),Z(n,"setEditorMode",T,n),Z(n,"setPlayer",I,n),Z(n,"replayVideo",x,n),Z(n,"resetVideoInfo",z,n),Z(n,"onVideoEnd",R,n),W(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,V.ListStore),D(t,[{key:"hasVoted",value:function(e){return 0<=this.votedInterviewProblems.indexOf(e)}},{key:"retrieve",value:function(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.detailLoading=!0,q.default.get(this.detailUrl+"?unique_name_or_alias="+e+"&_format=detail",A({},this.retrieveOptions,r)).then(function(e){if(t.detailLoading=!1,e.err)t.detail=null;else{var r=e.data;t.detail=r,t.trans={},t.conver={},t.fetchTranslation(t.detail.id),t.detail.no_permission||(t.hasFollowed=r.has_followed_by),t.acceptLanguages={},t.detail.accept_languages?t.detail.accept_languages.forEach(function(e){G.Languages[e]&&(t.acceptLanguages[e]=G.Languages[e])}):t.acceptLanguages=G.Languages}return t.detailInitial=!1,e})}},{key:"voteInterview",value:function(e,t){var r=this;(0,B.voteInterview)({problem:e,company_tag:t}).then(function(t){t.err||((0,B.addVotedProblem)(e),r.votedInterviewProblems=(0,B.getVotedProblem)())})}},{key:"getRecommendProblems",value:function(){var e=this;return(0,B.getRecommendProblems)(this.detail.id).then(function(t){t.err||t.data.recommend_problems.length&&(e.recommendProblems=t.data.recommend_problems)})}},{key:"retrieveStandardCode",value:function(){return(0,B.getStandardCode)(this.detail.id,this.language.urlQuery)}},{key:"retrieveCode",value:function(){return(0,B.getLastAcCode)(this.detail.id,this.language.urlQuery)}},{key:"resetCode",value:function(){return(0,B.getCodeTemplate)(this.detail.id,this.language.urlQuery)}},{key:"retrieveLastSubmittedCode",value:function(){return(0,B.getLastSubmittedCode)(this.detail.id,this.language.urlQuery)}},{key:"editProblem",value:function(e){var t=this,r={};return r[e.context.type]=e.text,q.default.patch(""+this.listUrl+this.detail.id+"/?_format=translation",r).then(function(){t.detail[e.context.type]=e.text})}},{key:"editProblemTranslation",value:function(e){var t=this;return H.default.translationList.fetch({params:{id:e.context.id}}).then(function(r){if(r.err)throw r.err;var n=r.data;for(var a in n)n[a].field===e.context.type&&(n[a].text=e.text,n[a].status="translated");return q.default.post("/api/translations/bulk_update/",{translations:n}).then(function(){t.detail[e.context.type]=e.text})})}}]),t}(),a=K(n.prototype,"votedInterviewProblems",[F.observable],{enumerable:!0,initializer:function(){return(0,B.getVotedProblem)()}}),o=K(n.prototype,"language",[F.observable],{enumerable:!0,initializer:function(){return G.Languages.java}}),i=K(n.prototype,"acceptLanguages",[F.observable],{enumerable:!0,initializer:function(){return G.Languages}}),l=K(n.prototype,"code",[F.observable],{enumerable:!0,initializer:null}),u=K(n.prototype,"editorModalVisible",[F.observable],{enumerable:!0,initializer:function(){return!1}}),s=K(n.prototype,"editModeEnabled",[F.observable],{enumerable:!0,initializer:function(){return!1}}),c=K(n.prototype,"hasFollowed",[F.observable],{enumerable:!0,initializer:function(){return!1}}),d=K(n.prototype,"recommendProblems",[F.observable],{enumerable:!0,initializer:function(){return[]}}),f=K(n.prototype,"from",[F.observable],{enumerable:!0,initializer:function(){return""}}),p=K(n.prototype,"fromId",[F.observable],{enumerable:!0,initializer:function(){return-1}}),m=K(n.prototype,"ACModalVisible",[F.observable],{enumerable:!0,initializer:function(){return!1}}),b=K(n.prototype,"ChallengeFailedModalVisible",[F.observable],{enumerable:!0,initializer:function(){return!1}}),h=K(n.prototype,"inEnglish",[F.observable],{enumerable:!0,initializer:function(){return"en"===J.default.locale}}),y=K(n.prototype,"rememberVisible",[F.observable],{enumerable:!0,initializer:function(){return!0}}),v=K(n.prototype,"player",[F.observable],{enumerable:!0,initializer:function(){return null}}),g=K(n.prototype,"isEnd",[F.observable],{enumerable:!0,initializer:function(){return!1}}),_=K(n.prototype,"setFromId",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.fromId=t}}}),w=K(n.prototype,"setFrom",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.from=t}}}),E=K(n.prototype,"setModalVisible",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.editorModalVisible=t}}}),P=K(n.prototype,"switchEditorModalVisible",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.editorModalVisible=!e.editorModalVisible}}}),O=K(n.prototype,"setACModalVisible",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.ACModalVisible=t}}}),k=K(n.prototype,"setChallengeFailedModalVisible",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.ChallengeFailedModalVisible=t}}}),j=K(n.prototype,"setInEnglish",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.inEnglish=t}}}),K(n.prototype,"retrieve",[F.action],Object.getOwnPropertyDescriptor(n.prototype,"retrieve"),n.prototype),C=K(n.prototype,"fetchTranslation",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(t){return H.default.translationList.fetch({params:{id:t}}).then(function(t){if(t.err)throw t.err;for(var r in t.data)null!==t.data[r].field&&(e.trans[t.data[r].field]=t.data[r].text);var n=(0,U.sortBy)(t.data,function(e){return e.id});for(var a in n)null!==n[a].field&&("en"===J.default.locale&&"translated"===n[a].status&&void 0===e.conver[n[a].field]&&(e.conver[n[a].field]=n[a].text),"zh"===J.default.locale&&"translated"===n[a].status&&void 0===e.conver[n[a].field]&&(e.conver[n[a].field]=n[a].default),void 0===e.conver[n[a].field]&&(e.conver[n[a].field]=""))})}}}),K(n.prototype,"voteInterview",[F.action],Object.getOwnPropertyDescriptor(n.prototype,"voteInterview"),n.prototype),K(n.prototype,"getRecommendProblems",[F.action],Object.getOwnPropertyDescriptor(n.prototype,"getRecommendProblems"),n.prototype),L=K(n.prototype,"followProblem",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(){return q.default.post("/api/problems/"+e.detail.id+"/follow/").then(function(t){e.hasFollowed=t.data.has_followed_by}).catch(function(e){if(404!==e.status)throw e})}}}),S=K(n.prototype,"unfollowProblem",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(){return q.default.post("/api/problems/"+e.detail.id+"/unfollow/").then(function(t){e.hasFollowed=t.data.has_followed_by}).catch(function(e){if(404!==e.status)throw e})}}}),N=K(n.prototype,"rememberProblem",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(){return e.rememberVisible=!1,q.default.post("/api/problems/"+e.detail.id+"/remember/").then(function(t){e.remember=t.data.remember}).catch(function(e){if(404!==e.status)throw e})}}}),M=K(n.prototype,"forgetProblem",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(){return e.rememberVisible=!1,Promise.all([q.default.post("/api/problems/"+e.detail.id+"/forget/"),e.resetCode()]).then(function(t){e.remember=t[0].data.remember,e.code=t[1].data.code}).finally(e.switchEditorModalVisible)}}}),K(n.prototype,"retrieveStandardCode",[F.action],Object.getOwnPropertyDescriptor(n.prototype,"retrieveStandardCode"),n.prototype),K(n.prototype,"retrieveCode",[F.action],Object.getOwnPropertyDescriptor(n.prototype,"retrieveCode"),n.prototype),K(n.prototype,"resetCode",[F.action],Object.getOwnPropertyDescriptor(n.prototype,"resetCode"),n.prototype),K(n.prototype,"retrieveLastSubmittedCode",[F.action],Object.getOwnPropertyDescriptor(n.prototype,"retrieveLastSubmittedCode"),n.prototype),K(n.prototype,"editProblem",[F.action],Object.getOwnPropertyDescriptor(n.prototype,"editProblem"),n.prototype),K(n.prototype,"editProblemTranslation",[F.action],Object.getOwnPropertyDescriptor(n.prototype,"editProblemTranslation"),n.prototype),T=K(n.prototype,"setEditorMode",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.editModeEnabled=t}}}),I=K(n.prototype,"setPlayer",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.player=t}}}),x=K(n.prototype,"replayVideo",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.resetVideoInfo(),e.player&&e.player.play()}}}),z=K(n.prototype,"resetVideoInfo",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.isEnd=!1}}}),R=K(n.prototype,"onVideoEnd",[F.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.isEnd=!0}}}),n);t.default=new Q},1278:function(e,t,r){e.exports=r(4)(61)},1281:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADDTHIS_PUBID="ra-5a96b3c9aa797f04",t.Languages={java:{aceMode:"java",urlQuery:"Java",display:"Java",leaderQuery:"java"},cpp:{aceMode:"c_cpp",urlQuery:"C++",display:"C++",leaderQuery:"cpp"},js:{aceMode:"javascript",urlQuery:"JS",display:"JavaScript",leaderQuery:"javascript"},python2:{aceMode:"python",urlQuery:"Python",display:"Python2",leaderQuery:"python"},python3:{aceMode:"python",urlQuery:"Py3",display:"Python3",leaderQuery:"python3"},go:{aceMode:"golang",urlQuery:"Go",display:"Go",leaderQuery:"go"}}},1284:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=(a=n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"isArray",value:function(t){return"[object Array]"===e.toString.call(t)}},{key:"isArrayBuffer",value:function(t){return"[object ArrayBuffer]"===e.toString.call(t)}},{key:"isFormData",value:function(t){return!e.isUndefined(FormData)&&t instanceof FormData}},{key:"isArrayBufferView",value:function(t){return!e.isUndefined(ArrayBuffer)&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isNull",value:function(e){return null===e}},{key:"isNullOrUndefined",value:function(t){return e.isNull(t)||e.isUndefined(t)}},{key:"isObject",value:function(e){return null!==e&&"object"===(void 0===e?"undefined":o(e))}},{key:"isDate",value:function(e){return"[object Date]"===Object.prototype.toString.call(e)}},{key:"isFile",value:function(t){return"[object File]"===e.toString.call(t)}},{key:"isBlob",value:function(t){return"[object Blob]"===e.toString.call(t)}},{key:"isFunction",value:function(t){return"[object Function]"===e.toString.call(t)}},{key:"isStream",value:function(t){return e.isObject(t)&&e.isFunction(t)}},{key:"isURLSearchParams",value:function(t){return!e.isUndefined(URLSearchParams)&&t instanceof URLSearchParams}},{key:"isNaN",value:function(e){return e!=e}}]),e}(),n.toString=Object.prototype.toString,a);t.default=l},1285:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i,l,u,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(25),d=r(117),f=m(r(22)),p=m(r(1284));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function h(e,t,r,n,a){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(n=function(e){function t(e){if(function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),p.default.isNullOrUndefined(e)||!e||!e.http||!e.http.method)throw new Error("Create bundle item need config http method!");var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return b(r,"loading",a,r),b(r,"error",o,r),b(r,"err",i,r),b(r,"initial",l,r),b(r,"data",u,r),r.data=p.default.isNullOrUndefined(e.defaultValue)?{}:e.defaultValue,r.config=e,r.transformer=e.transformer,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.BaseStore),s(t,[{key:"fetch",value:function(e,t){var r=this,n=void 0;return this.loading?n=this.createNormalErrorPromise({}):(this.loading=!0,(n=f.default.request(Object.assign({},this.config.http,e,{data:t}))).then(function(e){return e.err?(r.error=!0,r.err=e.err,r.data=e):(r.config.noSave||(r.data=r.transformer?r.transformer(e):e),r.initial=!1),r.loading=!1,e},function(e){r.err=e,r.error=!0,r.loading=!1})),n}},{key:"reset",value:function(){return this.loading=!1,this.error=!1,this.initial=!0,this.clear(),this}},{key:"clear",value:function(){return this.data=p.default.isNullOrUndefined(this.config.defaultValue)?{}:this.config.defaultValue,this}},{key:"ready",get:function(){return!this.initial&&!this.loading||this.error}}]),t}(),a=h(n.prototype,"loading",[c.observable],{enumerable:!0,initializer:function(){return!1}}),o=h(n.prototype,"error",[c.observable],{enumerable:!0,initializer:function(){return!1}}),i=h(n.prototype,"err",[c.observable],{enumerable:!0,initializer:function(){return null}}),l=h(n.prototype,"initial",[c.observable],{enumerable:!0,initializer:function(){return!0}}),u=h(n.prototype,"data",[c.observable],{enumerable:!0,initializer:null}),h(n.prototype,"ready",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"ready"),n.prototype),h(n.prototype,"fetch",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"fetch"),n.prototype),h(n.prototype,"reset",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"reset"),n.prototype),h(n.prototype,"clear",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"clear"),n.prototype),n);t.default=y},1292:function(e,t,r){"use strict";var n,a,o,i;Object.defineProperty(t,"__esModule",{value:!0});var l,u=r(25),s=r(117),c=(l=r(1285))&&l.__esModule?l:{default:l};function d(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t,r,n,a){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(n=function(e){function t(){var e,r,n;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return d(r=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),"translationList",a,n),d(n,"updateTranslations",o,n),d(n,"updateProblem",i,n),f(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.BaseStore),t}(),a=p(n.prototype,"translationList",[u.observable],{enumerable:!0,initializer:function(){return new c.default({http:{method:"get",url:"/api/translations/"},defaultValue:{}})}}),o=p(n.prototype,"updateTranslations",[u.observable],{enumerable:!0,initializer:function(){return new c.default({http:{method:"post",url:"/api/translations/bulk_update/"},defaultValue:{}})}}),i=p(n.prototype,"updateProblem",[u.observable],{enumerable:!0,initializer:function(){return new c.default({http:{method:"patch"},defaultValue:{}})}}),n);t.default=new m},1294:function(e,t,r){e.exports=r(4)(131)},1295:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(209)),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(208);var o=u(r(0)),i=u(r(1)),l=r(463);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.level,r=e.className,a=e.style,i=l.ProblemLevelToColor[parseInt(t,10)];return o.default.createElement(n.default,{color:i,style:a,className:r+" problem-difficulty-icon"},l.ProblemLevel[t].label)}}]),t}();s.propTypes={level:i.default.number.isRequired},t.default=s},1296:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(1282));r(1283);var a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(t){var r=t.status,o=t.detail,i=void 0;if(o)i=o;else switch(parseInt(r,10)){case 404:i=e("Not Found");break;case 403:i=e("Permission Denied");break;case 500:i=e("Server Error")}return a.default.createElement("div",{className:"flex-center full-height full-width"},a.default.createElement(n.default,{style:{width:"60%"},message:a.default.createElement("h1",{className:"text-center"},r),description:a.default.createElement("h3",{className:"text-center"},i),type:"error"}))}}).call(this,r(44).default)},1314:function(e,t,r){e.exports=r(4)(290)},1328:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(117),i=(n=r(22))&&n.__esModule?n:{default:n},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.ListStore),a(t,[{key:"createCollection",value:function(e){return i.default.post("/api/collection/",{name:e})}},{key:"getCollections",value:function(e){return i.default.get("/api/collection/",{params:e})}},{key:"favoriteProblemWithCollection",value:function(e,t){return i.default.post("/api/collection/"+t+"/add/",{id:e})}},{key:"removeProblemInCollection",value:function(e,t){return i.default.post("/api/collection/"+t+"/remove/",{id:e})}},{key:"favoriteProblem",value:function(e){var t=e.problemId;return i.default.post("/api/favorite/",{id:t})}},{key:"removeProblemFromFavorite",value:function(e){return i.default.post("/api/favorite/remove/",{id:e})}}]),t}();t.default=new l},1355:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(14));r(116);var a=i(r(0)),o=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.isLike,r=e.className,o=e.likeClick,i=e.unlikeClick;return t?a.default.createElement(n.default,{onClick:i,style:{color:"#fcc44d"},className:"like-icon "+r,type:"star",theme:"filled"}):a.default.createElement(n.default,{onClick:o,className:"like-icon "+r,type:"star-o"})}l.propTypes={isLike:o.default.bool,likeClick:o.default.func.isRequired,unlikeClick:o.default.func.isRequired},l.defaultProps={isLike:!1},t.default=l},1377:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=s(r(0)),i=s(r(1296)),l=s(r(219)),u=s(r(1378));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e){var t=function(t){function r(){var t,n,a;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return(n=a=c(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(l)))).displayName="StatusWrapper("+e.displayName+")",a.state={status:void 0,detail:void 0,component:void 0,otherProps:{}},a.setNewState=a.setState.bind(a),a.show404=function(){a.setState({status:404,component:i.default})},a.showHttpError=function(e,t){a.setState({status:e,detail:t,component:i.default})},a.clear=function(){a.setState({status:void 0,detail:void 0,component:void 0,otherProps:{}})},a.showJiuZhangAuth=function(e){a.setState({component:u.default},e)},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,o.default.Component),a(r,[{key:"render",value:function(){return this.state.component?o.default.createElement(this.state.component,n({},this.props,this.state.otherProps,{status:this.state.status,detail:this.state.detail,clear:this.clear,setNewState:this.setNewState,show404:this.show404,showHttpError:this.showHttpError,showJiuZhangAuth:this.showJiuZhangAuth})):o.default.createElement(e,n({},this.props,{clear:this.clear,setNewState:this.setNewState,show404:this.show404,showHttpError:this.showHttpError,showJiuZhangAuth:this.showJiuZhangAuth}))}}]),r}();return(0,l.default)(t,e)}},1378:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a=v(r(1273)),o=v(r(30)),i=v(r(118)),l=v(r(14)),u=v(r(206)),s=v(r(212)),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(1274),r(87),r(153),r(116),r(207),r(211);var d=v(r(0)),f=v(r(1)),p=r(72),m=v(r(57)),b=v(r(214)),h=v(r(1387)),y=r(488);function v(e){return e&&e.__esModule?e:{default:e}}r(1388);var g=s.default.Item,_=(0,p.injectIntl)(n=function(t){function r(t){var n=this;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var a,o,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return i.handleEmailChange=function(e){var t=e.target.value;i.setState({email:t})},i.handlePasswordChange=function(e){var t=e.target.value;i.setState({password:t})},i.handleSubmit=(a=regeneratorRuntime.mark(function t(r){var a,o,l,s,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),a=i.state,o=a.email,l=a.password,s={email:o,password:l},o){t.next=7;break}b.default.error(e("Please fill out the Email","jiuzhang")),t.next=32;break;case 7:if(l){t.next=11;break}b.default.error(e("Please fill out the Password","jiuzhang")),t.next=32;break;case 11:return i.setState({submitLoading:!0}),t.next=14,(0,y.bindJiuZhang)(s);case 14:if(c=t.sent,d=c.err,i.setState({submitLoading:!1}),!d){t.next=26;break}t.t0=d.status,t.next=400===t.t0?21:401===t.t0?21:403===t.t0?21:23;break;case 21:return u.default.error(d.data.error),t.abrupt("break",24);case 23:u.default.error(e("Unknown Error"));case 24:t.next=32;break;case 26:return t.next=28,m.default.getJiuZhangInfo();case 28:return t.next=30,m.default.fetch();case 30:b.default.success(e("Auth Success")),i.props.clear();case 32:case"end":return t.stop()}},t,n)}),o=function(){var e=a.apply(this,arguments);return new Promise(function(t,r){return function n(a,o){try{var i=e[a](o),l=i.value}catch(a){return void r(a)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});t(l)}("next")})},function(e){return o.apply(this,arguments)}),i.state={email:"",password:"",submitLoading:!1},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,d.default.Component),c(r,[{key:"render",value:function(){var t=this.props.intl.formatMessage;return d.default.createElement("div",{className:"full-height full-width flex-center"},d.default.createElement(a.default,{className:"auth",style:{width:350}},d.default.createElement("p",{className:"title"},e("Validate your Jiuzhang account","jiuzhang")),d.default.createElement("img",{className:"thumbnail",src:"https://lintcode-media.s3.amazonaws.com/ladder/jiuzhang.jpg",alt:"Logo"}),d.default.createElement("p",{className:"notification"},d.default.createElement(p.FormattedMessage,{id:"jiuzhang.verify_jiuzhang_account",defaultMessage:"This page is for Jiuzhang Users only. Please verify your account on www.jiuzhang.com"})),d.default.createElement(s.default,{onSubmit:this.handleSubmit,className:"login-form"},d.default.createElement(g,null,d.default.createElement(i.default,{onChange:this.handleEmailChange,prefix:d.default.createElement(l.default,{type:"mail",style:{fontSize:13}}),placeholder:t(h.default.Email)})),d.default.createElement(g,null,d.default.createElement(i.default,{onChange:this.handlePasswordChange,prefix:d.default.createElement(l.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:t(h.default.Password)})),d.default.createElement(g,null,d.default.createElement(o.default,{loading:this.state.submitLoading,type:"primary",htmlType:"submit",className:"login-form-button"},e("Log in","jiuzhang")),d.default.createElement("a",{className:"login-form-forgot",href:"http://www.jiuzhang.com/accounts/forget/",rel:"noopener noreferrer",target:"_blank"},e("Forgot password","jiuzhang")),e("Or","jiuzhang")," ",d.default.createElement("a",{href:"http://www.jiuzhang.com/accounts/register/",rel:"noopener noreferrer",target:"_blank"},e("register now!","jiuzhang"))))))}}]),r}())||n;_.propTypes={intl:f.default.object.isRequired,clear:f.default.func.isRequired},t.default=_}).call(this,r(44).default)},1383:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(1)),l=s(r(0)),u=r(1281);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(1477);var d=(a=n=function(e){function t(){var e,r,n;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return(r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)))).urlRelToAbs=function(e){var t=location.host;return!e||/^(https?|data:image\/[^;]{2,9};):/i.test(e)?e:"http://"+t+e},c(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"render",value:function(){var e={url:this.props.url,title:this.props.title,description:this.props.description,screenshot:this.urlRelToAbs(this.props.screenshot),pubid:u.ADDTHIS_PUBID},t=Object.entries(e).map(function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&");return l.default.createElement("div",{className:"share-btn-group"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("a",{className:"weibo",href:"http://api.addthis.com/oexchange/0.8/forward/sinaweibo/offer?"+t,rel:"nofollow",target:"_blank"},l.default.createElement("i",{className:"fa fa-weibo"}))),l.default.createElement("li",null,l.default.createElement("a",{className:"wechat",href:"http://api.addthis.com/oexchange/0.8/forward/wechat/offer?"+t,rel:"nofollow",target:"_blank"},l.default.createElement("i",{className:"fa fa-weixin"}))),l.default.createElement("li",null,l.default.createElement("a",{className:"twitter",href:"http://api.addthis.com/oexchange/0.8/forward/twitter/offer?"+t,rel:"nofollow",target:"_blank"},l.default.createElement("i",{className:"fa fa-twitter"}))),l.default.createElement("li",null,l.default.createElement("a",{className:"facebook",href:"http://api.addthis.com/oexchange/0.8/forward/facebook/offer?"+t,rel:"nofollow",target:"_blank"},l.default.createElement("i",{className:"fa fa-facebook-f"})))))}}]),t}(),n.propTypes={url:i.default.string,title:i.default.string,description:i.default.string,screenshot:i.default.string},n.defaultProps={url:location.href,title:document.title,description:"",screenshot:""},a);t.default=d},1387:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(72);t.default=(0,n.defineMessages)({Email:{id:"app.Email",defaultMessage:"Email"},Password:{id:"app.Password",defaultMessage:"Password"}})},1388:function(e,t,r){},1391:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i,l,u,s,c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=r(25),f=(s=r(22))&&s.__esModule?s:{default:s},p=r(126),m=r(117);function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t,r,n,a){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var v=(n=function(e){function t(){var e,r,n;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return(r=n=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c)))).listUrl="/api/collection/",b(n,"problemsEmpty",a,n),b(n,"problemsLoading",o,n),b(n,"collectionsWithProblems",i,n),b(n,"getProblems",l,n),b(n,"removeProblemFromAllCollections",u,n),h(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m.ListStore),t}(),a=y(n.prototype,"problemsEmpty",[d.observable],{enumerable:!0,initializer:function(){return!0}}),o=y(n.prototype,"problemsLoading",[d.observable],{enumerable:!0,initializer:function(){return!1}}),i=y(n.prototype,"collectionsWithProblems",[d.observable],{enumerable:!0,initializer:function(){return[]}}),l=y(n.prototype,"getProblems",[d.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=void 0;if(e.problemsLoading){var r=new Error("loading!");t.reject(r).catch(p.handleErr)}else e.problemsLoading=!0,t=f.default.get("/api/collection/",{params:{_format:"detail"}}).then(function(t){e.problemsLoading=!1;var r=t.data;t.err||(e.collectionsWithProblems=r,e.problemsEmpty=!1)});return t}}}),u=y(n.prototype,"removeProblemFromAllCollections",[d.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=!0,n=!1,a=void 0;try{for(var o,i=e.collectionsWithProblems[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,u=!0,s=!1,d=void 0;try{for(var f,p=l.problems.entries()[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var m=f.value,b=c(m,2),h=b[0];b[1].id===t&&l.problems.splice(h,1)}}catch(t){s=!0,d=t}finally{try{!u&&p.return&&p.return()}finally{if(s)throw d}}}}catch(t){n=!0,a=t}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}}}}),n);t.default=new v},1394:function(e,t,r){e.exports=r(4)(291)},1397:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i,l,u,s,c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(25),f=r(117),p=(s=r(1277))&&s.__esModule?s:{default:s},m=r(1485),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1468));function h(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t,r,n,a){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(n=function(e){function t(){var e,r,n;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return(r=n=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c)))).listUrl="/api/ladder/",h(n,"levels",a,n),h(n,"nextProblem",o,n),h(n,"originalUserLevel",i,n),h(n,"getLevels",l,n),h(n,"getNextLadderProblem",u,n),y(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.ListStore),c(t,[{key:"fetchList",value:function(){var e;if(0<this.list.length)return Promise.resolve({data:this.list});for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=f.ListStore.prototype.fetchList).call.apply(e,[this].concat(r))}},{key:"isInCurrentLadder",get:function(){var e=this.levels;if(!e||e.length<=0)return!1;var t=[];return e.forEach(function(e){var r=e.related_problems,n=e.optional_problems,a=e.required_problems;t=r.concat(t,n,a)}),-1!==t.findIndex(function(e){return e.id===p.default.detail.id})}},{key:"isLevelChanged",get:function(){return this.originalUserLevel!==this.detail.user_level&&this.detail.user_level<=this.detail.level_count}}]),t}(),a=v(n.prototype,"levels",[d.observable],{enumerable:!0,initializer:function(){return[]}}),o=v(n.prototype,"nextProblem",[d.observable],{enumerable:!0,initializer:function(){return{}}}),i=v(n.prototype,"originalUserLevel",[d.observable],{enumerable:!0,initializer:function(){return 0}}),v(n.prototype,"fetchList",[d.action],Object.getOwnPropertyDescriptor(n.prototype,"fetchList"),n.prototype),l=v(n.prototype,"getLevels",[d.action],{enumerable:!0,initializer:function(){var e,t,r=this;return e=regeneratorRuntime.mark(function e(t){var n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getLevels(t);case 2:n=e.sent,a=n.err,o=n.data,a||(r.levels=o.levels);case 6:case"end":return e.stop()}},e,r)}),t=function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),l=i.value}catch(a){return void r(a)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}("next")})},function(e){return t.apply(this,arguments)}}}),v(n.prototype,"isInCurrentLadder",[m.computed],Object.getOwnPropertyDescriptor(n.prototype,"isInCurrentLadder"),n.prototype),v(n.prototype,"isLevelChanged",[m.computed],Object.getOwnPropertyDescriptor(n.prototype,"isLevelChanged"),n.prototype),u=v(n.prototype,"getNextLadderProblem",[d.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.originalUserLevel=e.detail.user_level;var t=p.default.detail.id;return e.retrieve(p.default.fromId).then(function(r){var n=r.data;b.getLevels(p.default.fromId).then(function(r){if(!r.err){var a=r.data.levels.find(function(e){return e.level===n.user_level});if(a){var o=[];-1!==a.related_problems.findIndex(function(e){return e.id===t})&&(o=a.related_problems),-1!==a.optional_problems.findIndex(function(e){return e.id===t})&&(o=a.optional_problems),-1!==a.required_problems.findIndex(function(e){return e.id===t})&&(o=a.required_problems),n.user_level!==e.originalUserLevel&&(o=a.required_problems);var i=o.filter(function(e){return"Accepted"!==e.user_status&&e.id!==t});0<i.length?e.nextProblem=i[0]:e.nextProblem={}}else e.nextProblem={}}})})}}}),n);t.default=new g},1423:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i,l,u,s,c,d,f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=r(117),m=r(25),b=(d=r(22))&&d.__esModule?d:{default:d},h=r(126);function y(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t,r,n,a){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(n=function(e){function t(){var e,r,n;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var d=arguments.length,f=Array(d),p=0;p<d;p++)f[p]=arguments[p];return(r=n=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f)))).listUrl="/api/session/",y(n,"delLoading",a,n),y(n,"activateLoading",o,n),y(n,"createLoading",i,n),y(n,"renameLoading",l,n),y(n,"summaryLoading",u,n),y(n,"summary",s,n),y(n,"defaultSession",c,n),v(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.ListStore),f(t,[{key:"activateSession",value:function(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=void 0;if(this.activateLoading){var a=new Error("it's loading");n=Promise.reject(a).catch(h.handleErr)}else this.activateLoading=!0,n=b.default.post(""+this.listUrl+e+"/activate/").then(function(e){return t.activateLoading=!1,r(),e});return n}},{key:"activateDefaultSession",value:function(e){this.activateSession(0,e)}},{key:"createSession",value:function(e){var t=this,r=void 0;if(this.createLoading){var n=new Error("it's loading");r=Promise.reject(n).catch(h.handleErr)}else this.createLoading=!0,r=b.default.post(this.listUrl,e).then(function(e){t.createLoading=!1;var r=e.err,n=e.data;return r||t.list.splice(t.list.length-1,0,n),e});return r}},{key:"renameSession",value:function(e,t){var r=this,n=void 0;if(this.renameLoading){var a=new Error("it's loading");n=Promise.reject(a).catch(h.handleErr)}else this.renameLoading=!0,n=b.default.put(""+this.listUrl+e+"/",t).then(function(e){return r.renameLoading=!1,e});return n}},{key:"getSummary",value:function(){var e=this,t=void 0;if(this.summaryLoading){var r=new Error("it's loading");t=Promise.reject(r).catch(h.handleErr)}else this.summaryLoading=!0,t=b.default.get("/api/session/summary/").then(function(t){return e.summaryLoading=!1,t.err||(e.summary=t.data),t});return t}}]),t}(),a=g(n.prototype,"delLoading",[m.observable],{enumerable:!0,initializer:function(){return!1}}),o=g(n.prototype,"activateLoading",[m.observable],{enumerable:!0,initializer:function(){return!1}}),i=g(n.prototype,"createLoading",[m.observable],{enumerable:!0,initializer:function(){return!1}}),l=g(n.prototype,"renameLoading",[m.observable],{enumerable:!0,initializer:function(){return!1}}),u=g(n.prototype,"summaryLoading",[m.observable],{enumerable:!0,initializer:function(){return!1}}),s=g(n.prototype,"summary",[m.observable],{enumerable:!0,initializer:function(){return{total_accepted:0,total_failed:0,total_todo:0,total:0,weekly_spp:"N/A",monthly_spp:"N/A"}}}),c=g(n.prototype,"defaultSession",[m.observable],{enumerable:!0,initializer:function(){return{}}}),g(n.prototype,"activateSession",[m.action],Object.getOwnPropertyDescriptor(n.prototype,"activateSession"),n.prototype),g(n.prototype,"activateDefaultSession",[m.action],Object.getOwnPropertyDescriptor(n.prototype,"activateDefaultSession"),n.prototype),g(n.prototype,"createSession",[m.action],Object.getOwnPropertyDescriptor(n.prototype,"createSession"),n.prototype),g(n.prototype,"renameSession",[m.action],Object.getOwnPropertyDescriptor(n.prototype,"renameSession"),n.prototype),g(n.prototype,"getSummary",[m.action],Object.getOwnPropertyDescriptor(n.prototype,"getSummary"),n.prototype),n);t.default=new _},1428:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a=E(r(120)),o=E(r(14)),i=E(r(30)),l=E(r(118)),u=E(r(1282)),s=E(r(206)),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(119),r(116),r(87),r(153),r(1283),r(207);var f=E(r(0)),p=E(r(1)),m=r(28),b=r(72),h=E(r(462)),y=E(r(214)),v=E(r(1328)),g=E(r(1391)),_=E(r(1429)),w=E(r(487));function E(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(1430);var O=(0,m.observer)(n=function(t){function r(){var t,n,a;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return(n=a=P(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(i)))).state={loading:!1,inputCollection:!1,collectionName:"",createLoading:!1,showNotFavorite:!1,removeFavoriteLoading:!1},a.onChange=function(e){a.setState({collectionName:e.target.value})},a.getCollections=function(){a.setState({loading:!0}),g.default.getProblems().then(function(){a.setState({loading:!1})})},a.showCollectionInput=function(){a.setState({inputCollection:!0})},a.showNotFavoriteModal=function(){a.setState({showNotFavorite:!0})},a.hideCollectionInput=function(){a.setState({inputCollection:!1})},a.hideNotFavorite=function(){a.setState({showNotFavorite:!1})},a.createCollection=function(){a.state.collectionName?(a.setState({createLoading:!0}),v.default.createCollection(a.state.collectionName).then(function(e){var t=e.err,r=e.data;if(t)return t.data&&t.data.name?void s.default.error(t.data.name):void s.default.error(a.props.intl.formatMessage(w.default.networkError));r.problems=[],g.default.collectionsWithProblems.push(r),a.setState({createLoading:!1,inputCollection:!1,collectionName:""})})):y.default.error(e("Collection name can't be blank","problem"))},a.removeFavorite=function(){a.setState({removeFavoriteLoading:!0});var e=a.props.pendingProblem.id;v.default.removeProblemFromFavorite(e).then(function(t){a.setState({removeFavoriteLoading:!1,showNotFavorite:!1}),t.err?s.default.error(a.props.intl.formatMessage(w.default.networkError)):(g.default.removeProblemFromAllCollections(e),a.props.pendingProblem.is_favorited=!1)})},a.isFavorited=function(){return g.default.collectionsWithProblems.map(function(e){var t=!0,r=!1,n=void 0;try{for(var o,i=e.problems[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)if(o.value.id===a.props.pendingProblem.id)return!0}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}return!1}).reduce(function(e,t){return e||t},!1)},a.renderCollectionItem=function(e){return f.default.createElement(_.default,{problem:a.props.pendingProblem,problemId:a.props.pendingProblem.id,collection:e,key:e.id,isFavorited:a.isFavorited})},P(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,f.default.Component),d(r,[{key:"componentWillMount",value:function(){this.getCollections()}},{key:"render",value:function(){return f.default.createElement(a.default,c({className:"new-like-modal",title:e("My collections list")},this.props,{okText:e("No longer follow this problem","problem"),cancelText:e("Close","problem"),onOk:this.showNotFavoriteModal,closable:!0}),this.state.loading?f.default.createElement(h.default,null):f.default.createElement("div",null,f.default.createElement(u.default,{message:e("Please select the collection you want to keep / remove problem","problem"),type:"info",showIcon:!0}),g.default.collectionsWithProblems.map(this.renderCollectionItem),this.state.inputCollection?f.default.createElement("div",{className:"create-form"},f.default.createElement("div",null,f.default.createElement(l.default,{value:this.state.collectionName,onChange:this.onChange,placeholder:this.props.intl.formatMessage(w.default.inputCollectionName),disabled:this.state.loading})),f.default.createElement("div",null,f.default.createElement(i.default,{type:"primary",className:"confirm-create",loading:this.createLoading,onClick:this.createCollection},e("OK")),f.default.createElement(i.default,{className:"cancel-create",onClick:this.hideCollectionInput},e("Cancel")))):f.default.createElement("div",{className:"display-create cursor-pointer",onClick:this.showCollectionInput},f.default.createElement(o.default,{type:"plus"}),f.default.createElement("span",null,e("Add New Collection")))),f.default.createElement(a.default,{visible:this.state.showNotFavorite,title:e("Are you sure?","problem"),okText:e("Confirm"),onOk:this.removeFavorite,onCancel:this.hideNotFavorite,cancelText:e("Cancel"),closable:!0},e("This operation will remove the problem from all collection.","problem")))}}]),r}())||n;O.propTypes=c({},a.default.propTypes,{pendingProblem:p.default.object.isRequired,intl:b.intlShape.isRequired}),t.default=(0,b.injectIntl)(O)}).call(this,r(44).default)},1429:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=d(r(14)),o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(116);var l=d(r(0)),u=d(r(1)),s=r(28),c=d(r(1328));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,s.observer)(n=function(e){function t(){var e,r,n;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)))).state={loading:!1},n.isInCollection=function(){var e=!0,t=!1,r=void 0;try{for(var a,o=n.props.collection.problems[Symbol.iterator]();!(e=(a=o.next()).done);e=!0)if(a.value.id===n.props.problemId)return!0}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}return!1},n.switchStatus=function(e){e.err||n.setState({loading:!1})},n.clickCollection=function(){var e=n.props,t=e.problemId,r=e.collection;n.setState({loading:!0}),n.isInCollection()?c.default.removeProblemInCollection(t,r.id).then(n.switchStatus).then(function(){var e=!0,a=!1,i=void 0;try{for(var l,u=r.problems.entries()[Symbol.iterator]();!(e=(l=u.next()).done);e=!0){var s=l.value,c=o(s,2),d=c[0];c[1].id===t&&r.problems.splice(d,1)}}catch(e){a=!0,i=e}finally{try{!e&&u.return&&u.return()}finally{if(a)throw i}}n.props.problem.is_favorited=n.props.isFavorited()}):c.default.favoriteProblemWithCollection(t,r.id).then(n.switchStatus).then(function(){r.problems.push({id:t}),n.props.problem.is_favorited=n.props.isFavorited()})},f(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"collection-item cursor-pointer",onClick:this.state.loading?null:this.clickCollection},l.default.createElement(a.default,{type:"right"}),l.default.createElement("span",null,this.props.collection.name),this.state.loading?l.default.createElement(a.default,{type:"loading"}):this.isInCollection()&&l.default.createElement(a.default,{type:"check-circle"}))}}]),t}())||n;p.propTypes={problemId:u.default.number.isRequired,collection:u.default.object.isRequired},t.default=p},1430:function(e,t,r){},1431:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a=m(r(209)),o=m(r(89)),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(208),r(104);var l=m(r(0)),u=m(r(1)),s=r(31),c=m(r(1355)),d=m(r(1277)),f=m(r(1295)),p=r(463);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(t){var r=t.frequency,n=void 0,a=void 0;return 30<=r?(n=e("Frequently asked question ++","problem"),a="#fb6b5b"):20<=r?(n=e("Frequently asked question +","problem"),a="#fcc44d"):10<=r?(n=e("Frequently asked question","problem"),a="#5dcff3"):n="",n&&l.default.createElement(o.default,{placement:"topLeft",title:n,arrowPointAtCenter:!0},l.default.createElement("i",{style:{color:a},className:"fa fa-fire medium-icon"}))}function y(e){var t=e.status;return"Accepted"===t?l.default.createElement("i",{className:"fa fa-check text-success medium-icon"}):"Failed"===t?l.default.createElement("i",{className:"fa fa-minus text-danger medium-icon"}):null}function v(e){var t=e.problem,r=p.ProblemStatus[t.status],n=r.title,a=r.icon;return a&&l.default.createElement(o.default,{placement:"topLeft",arrowPointAtCenter:!0,title:n},l.default.createElement("i",{className:"fa "+(t.is_unlocked?"fa-unlock":a)+" medium-icon"}))}function g(e){var t=e.tags;return 0<t.length&&l.default.createElement(o.default,{placement:"topLeft",title:t.join(","),arrowPointAtCenter:!0,overlayClassName:"problem-tooltip"},l.default.createElement("i",{className:"fa fa-briefcase medium-icon"}))}r(1432),h.propTypes={frequency:u.default.number.isRequired},y.propTypes={status:u.default.string},y.defaultProps={status:""},v.propTypes={problem:u.default.object},g.propTypes={tags:u.default.object};var _=(0,s.withRouter)(n=function(e){function t(){var e,r,n;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return(r=n=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)))).state={showLikeIcon:!1},n.onMouseEnter=function(){n.props.isPlain||n.setState({showLikeIcon:!0})},n.onMouseLeave=function(){n.setState({showLikeIcon:!1})},n.onClickLike=function(e){e.stopPropagation(),e.preventDefault(),n.props.onClickLike(n.props.problem)},n.onClickUnlike=function(e){e.stopPropagation(),e.preventDefault(),n.props.onClickUnlike(n.props.problem)},n.onClickItem=function(e){e.preventDefault(),n.props.history.push(n.link())},b(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"link",value:function(){var e=this.props,t=e.history,r=e.problem,n=e.from,a=d.default.fromId,o=n&&-1!==a?"?_from="+n+"&&fromId="+a:"";return t.createHref({pathname:"/problem/"+r.unique_name+"/"+o})}},{key:"render",value:function(){var e=this.props,t=e.newTabOpen,r=e.problem,n=e.isPlain,o=e.tagClassName,i=r.accepted_rate+"%",u={style:{cursor:"pointer"},href:this.link()};return t?u.target="_blank":u.onClick=this.onClickItem,l.default.createElement("a",u,l.default.createElement("div",{className:"problem-item clearfix",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},l.default.createElement(f.default,{className:"float-left "+o,level:r.level}),l.default.createElement("div",{className:"problem-title "+(n?"problem-title-plain":"")+" float-left"},l.default.createElement("span",null,r.id,". ",r.title)),!n&&l.default.createElement("div",{className:"problem-icons"},l.default.createElement(v,{problem:r}),l.default.createElement(g,{tags:r.company_tags}),l.default.createElement(h,{frequency:r.frequency}),l.default.createElement(y,{status:r.user_status}),(this.state.showLikeIcon||r.is_favorited)&&l.default.createElement(c.default,{className:"medium-icon",isLike:r.is_favorited,likeClick:this.onClickLike,unlikeClick:this.onClickUnlike})),l.default.createElement(a.default,{className:"float-right rate-tag progress-tag"},l.default.createElement("span",{className:"progress-bg",style:{width:i}}),l.default.createElement("span",null,i))))}}]),t}())||n;_.propTypes={problem:u.default.object.isRequired,onClickLike:u.default.func,onClickUnlike:u.default.func,isPlain:u.default.bool,newTabOpen:u.default.bool,tagClassName:u.default.string},_.defaultProps={tagClassName:"",newTabOpen:!0,onClickLike:function(){},onClickUnlike:function(){},isPlain:!1},t.default=_}).call(this,r(44).default)},1432:function(e,t,r){},1468:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLevels=function(e){return a.default.get("/api/ladder/"+e+"/levels/")},t.retrieveLadder=function(e){return a.default.get("/api/ladder/"+e)},t.joinLadder=function(e,t){return a.default.post("/api/ladder/"+e+"/join/",t)},t.submitWinnerInfo=function(e,t){return a.default.post("/api/ladder/"+e+"/submit_winner_info/",t)},t.editJobDescription=function(e,t){return a.default.post("/api/ladder/"+e+"/edit_job_description/",t)};var n,a=(n=r(22))&&n.__esModule?n:{default:n}},1477:function(e,t,r){},1601:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.LadderType={LINTCODE_SELECT:1,JIUZHANG:2,BOOK:3,US_COMPANY:4,ALGORITHM:5,DATA_STRUCTURE:6,CN_COMPANY:7,GREEN_CHANNEL:8};t.LadderPaneKey={LINTCODE_SELECT:"select",JIUZHANG:"jiuzhang",BOOK:"book",US_COMPANY:"us_company",ALGORITHM:"algorithm",DATA_STRUCTURE:"data_structure",CN_COMPANY:"cn_company",GREEN_CHANNEL:"green_channel"},t.COMPANY_TYPES=[n.US_COMPANY,n.CN_COMPANY],t.LadderPrivacy={PRIVATE:0,PUBLIC:1,PASSWORD:2,JIUZHANG:3}},2814:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i=E(r(120)),l=E(r(1273)),u=E(r(1278)),s=E(r(1275)),c=E(r(1304)),d=E(r(89)),f=E(r(14)),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(119),r(1274),r(1279),r(1276),r(1299),r(104),r(116);var m=E(r(0)),b=E(r(1)),h=r(31),y=r(1600),v=E(r(472)),g=E(r(57)),_=E(r(1423));r(2815);var w=r(1601);function E(e){return e&&e.__esModule?e:{default:e}}var P=(0,h.withRouter)((o=a=function(t){function r(t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.showPermission=function(t){var r=void 0,n=void 0;switch(t){case w.LadderPrivacy.JIUZHANG:r=m.default.createElement(y.FaBook,{className:"privacy-icon"}),n=e("Jiuzhang Users","ladder");break;case w.LadderPrivacy.PASSWORD:r=m.default.createElement(y.FaKey,{className:"privacy-icon"}),n=e("Password Required","ladder");break;case w.LadderPrivacy.PUBLIC:r=m.default.createElement(y.FaGlobe,{className:"privacy-icon"}),n=e("Public Ladder","ladder");break;default:r=m.default.createElement(y.FaStar,{className:"privacy-icon"}),n=e("Private Ladder","ladder")}return m.default.createElement("span",null,r,n)},n.checkSession=function(){if(g.default.detail.auth){var e=g.default.detail.profile.session;null!==e&&0!==e.id?n.setState({showSessionModal:!0}):n.gotoLadder()}else n.gotoLadder()},n.gotoLadder=function(){n.props.history.push("/ladder/"+n.props.ladder.id+"/")},n.creatCover=function(){return m.default.createElement("a",{onClick:n.checkSession},m.default.createElement("img",{alt:"ladder-cover",className:"ladder-cover-img",src:n.props.ladder.cover}))},n.renderDescription=function(e){return m.default.createElement("span",{className:"ladder-description"},m.default.createElement(d.default,{title:m.default.createElement(v.default,{source:e})},m.default.createElement(f.default,{type:"question-circle",theme:"filled"})))},n.state={showSessionModal:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,m.default.Component),p(r,[{key:"render",value:function(){var t=this,r=this.props.ladder,n=r.id;return m.default.createElement("div",{className:"ladder-card "+(this.props.className||"")},m.default.createElement(l.default,{style:{textAlign:"center"}},m.default.createElement("div",{className:"card-body"},m.default.createElement(c.default,{type:"circle",width:130,strokeWidth:4,percent:r.percent,format:function(){return t.creatCover(r)}}),m.default.createElement("div",{className:"title"},m.default.createElement(h.Link,{to:"/ladder/"+n+"/"},r.title)),m.default.createElement("div",{className:"muted"},this.showPermission(r.privacy),this.renderDescription(r.description))),m.default.createElement(u.default,null,m.default.createElement(s.default,{className:"bg-dark",span:8},m.default.createElement("span",{className:"font"},r.level_count)," ",m.default.createElement("br",null),e("Levels","ladder")),m.default.createElement(s.default,{className:"bg-success",span:8},m.default.createElement("span",{className:"font"},r.has_passed?m.default.createElement(y.FaRocket,null):r.unlocked_level_count),m.default.createElement("br",null),r.has_passed?e("Passed","ladder"):e("Unlocked","ladder")),m.default.createElement(s.default,{className:"bg-dark",span:8},m.default.createElement("span",{className:"font"},r.problem_count)," ",m.default.createElement("br",null),e("Problems","ladder")))),m.default.createElement(i.default,{title:e("Session Warning Title","ladder"),visible:this.state.showSessionModal,onOk:function(){return _.default.activateDefaultSession(t.gotoLadder)},confirmLoading:_.default.activateLoading,onCancel:function(){return t.setState({showSessionModal:!1})}},m.default.createElement("p",null,e("Session Warning Content","ladder"))))}}]),r}(),a.propTypes={ladder:b.default.object.isRequired},n=o))||n;t.default=P}).call(this,r(44).default)},2815:function(e,t,r){},2816:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messages=void 0,t.LevelProblemType=l;var n=i(r(0)),a=i(r(1)),o=r(72);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.type,r=e.passedCount,a=e.allCount;return n.default.createElement(o.FormattedMessage,{id:"level.LevelProblemType_"+t,defaultMessage:t+"({passedCount}/{allCount})",values:{passedCount:r.toString(),allCount:a.toString()}})}l.propTypes={type:a.default.string.isRequired,passedCount:a.default.number.isRequired,allCount:a.default.node.isRequired},t.messages=(0,o.defineMessages)({enterPassword:{id:"app.enterPasswordContinue",defaultMessage:"Enter password to continue"}})},2817:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a,o=h(r(30)),i=h(r(118)),l=h(r(14)),u=h(r(1282)),s=h(r(206)),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(87),r(153),r(116),r(1283),r(207);var d=h(r(1)),f=h(r(0)),p=r(31),m=r(2816),b=r(1468);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(3162);var v=(a=n=function(t){function r(){var e,t,n;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=n=y(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o)))).state={password:""},n.onChange=function(e){n.setState({password:e.target.value})},n.submit=function(){var e=n.props.id;(0,b.joinLadder)(e,{password:n.state.password}).then(n.handlerResult)},n.handlerResult=function(e){var t=e.err;t?s.default.error(t.data.detail):n.props.didJoinLadder()},y(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,f.default.Component),c(r,[{key:"render",value:function(){var t=this.props,r=t.className,n=t.cover,a=t.title;return f.default.createElement("div",{className:"ladder-password "+r},f.default.createElement(u.default,{message:f.default.createElement(f.default.Fragment,null,f.default.createElement("span",{className:"message"},e("Become Lintcode VIP or enter password to unlock this ladder.","ladder")),f.default.createElement("span",{className:"message m-l-10"},f.default.createElement(p.Link,{style:{fontWeight:"bold"},to:"/vip"},e("Get VIP","ladder")))),type:"success",showIcon:!0}),f.default.createElement("h1",{className:"text-center"},a),f.default.createElement("img",{className:"center-block",style:{objectFit:"cover"},width:"150",height:"150",alt:a,src:n}),f.default.createElement("div",{className:"password m-t-20"},f.default.createElement(i.default,{type:"password",placeholder:this.context.intl.formatMessage(m.messages.enterPassword),onChange:this.onChange,value:this.state.password,addonBefore:f.default.createElement(l.default,{type:"lock"})})),f.default.createElement(o.default,{className:"submitting m-t-10",type:"primary",onClick:this.submit},e("Submit")))}}]),r}(),n.contextTypes={intl:d.default.object},n.propTypes={id:d.default.string.isRequired,cover:d.default.string.isRequired,title:d.default.string.isRequired,didJoinLadder:d.default.func},n.defaultProps={didJoinLadder:function(){}},a);t.default=v}).call(this,r(44).default)},3150:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i=y(r(1278)),l=y(r(1273)),u=y(r(1275)),s=y(r(1294)),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(1279),r(1274),r(1276),r(1287);var d=y(r(0)),f=r(28),p=y(r(462)),m=r(1601),b=y(r(2814)),h=y(r(1397));function y(e){return e&&e.__esModule?e:{default:e}}r(2815);var v=s.default.TabPane,g=(0,f.observer)((a=function(t){function r(e){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));o.call(t);var n=t.props.location.hash.slice(1);return t.state={paneKey:n||m.LadderPaneKey.US_COMPANY},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,d.default.Component),c(r,[{key:"componentDidMount",value:function(){h.default.fetchList()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.location.hash.slice(1),r=e.location.hash.slice(1);r&&r!==t&&this.setState({paneKey:r})}},{key:"createLadderCard",value:function(e){return d.default.createElement(u.default,{key:e.id,xs:24,md:12,lg:8,xl:6},d.default.createElement(b.default,{className:"full-height",ladder:e}))}},{key:"render",value:function(){return h.default.listLoading?d.default.createElement(p.default,null):d.default.createElement("div",{className:"dynamic-width-content"},d.default.createElement(l.default,{className:"ladder-index-card"},d.default.createElement(s.default,{activeKey:this.state.paneKey,onChange:this.onChangePane},d.default.createElement(v,{tab:e("US Company","ladder"),key:m.LadderPaneKey.US_COMPANY},this.createLadders(m.LadderType.US_COMPANY)),d.default.createElement(v,{tab:e("Chinese Company","ladder"),key:m.LadderPaneKey.CN_COMPANY},this.createLadders(m.LadderType.CN_COMPANY)),d.default.createElement(v,{tab:e("Green Channel","ladder"),key:m.LadderPaneKey.GREEN_CHANNEL},this.createLadders(m.LadderType.GREEN_CHANNEL)),d.default.createElement(v,{tab:e("LintCode Select","ladder"),key:m.LadderPaneKey.LINTCODE_SELECT},this.createLadders(m.LadderType.LINTCODE_SELECT)),d.default.createElement(v,{tab:e("Algorithm","ladder"),key:m.LadderPaneKey.ALGORITHM},this.createLadders(m.LadderType.ALGORITHM)),d.default.createElement(v,{tab:e("Data Structure","ladder"),key:m.LadderPaneKey.DATA_STRUCTURE},this.createLadders(m.LadderType.DATA_STRUCTURE)),d.default.createElement(v,{tab:e("Jiuzhang","ladder"),key:m.LadderPaneKey.JIUZHANG},this.createLadders(m.LadderType.JIUZHANG)),d.default.createElement(v,{tab:e("Book","ladder"),key:m.LadderPaneKey.BOOK},this.createLadders(m.LadderType.BOOK))),d.default.createElement("br",null)))}}]),r}(),o=function(){var e=this;this.onChangePane=function(t){e.props.history.push("/ladder/#"+t)},this.createLadders=function(t){var r=h.default.list.filter(function(e){return e.type===t});return d.default.createElement(i.default,{className:"flex-stretch",type:"flex",justify:"start"},r.map(e.createLadderCard))}},n=a))||n;t.default=g}).call(this,r(44).default)},3151:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i=D(r(1278)),l=D(r(30)),u=D(r(1275)),s=D(r(1348)),c=D(r(1282)),d=D(r(1273)),f=D(r(206)),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(1279),r(87),r(1276),r(1347),r(1283),r(1274),r(207);var b=D(r(1)),h=D(r(1328)),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1468)),v=D(r(1377)),g=D(r(1428)),_=D(r(462)),w=D(r(3152)),E=D(r(0)),P=D(r(128)),O=D(r(57)),k=r(72),j=r(31),C=r(28),L=D(r(3155)),S=D(r(2814)),N=D(r(3160)),M=D(r(2817)),T=D(r(3163)),I=D(r(1397)),x=r(1601),z=D(r(1277)),R=D(r(1383));r(3164);var A=D(r(472));function D(e){return e&&e.__esModule?e:{default:e}}function U(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),l=i.value}catch(a){return void r(a)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}("next")})}}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var V=(0,v.default)(n=(0,C.observer)((o=a=function(t){function r(){var e,t,n,a,o=this;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return(t=n=F(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(l)))).state={loading:!0,likeModalVisible:!1,passwordModalVisible:!1,pendingProblem:{},unlikeModalVisible:!1,updateStatusLoading:!1},n.onClickLike=(a=U(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=h.default.favoriteProblem({problemId:t.id}),(a=r.err)?f.default.error(a.detail):n.setState({likeModalVisible:!0,pendingProblem:t});case 2:case"end":return e.stop()}},e,o)})),function(e){return a.apply(this,arguments)}),n.onClickUnlike=function(e){n.setState({pendingProblem:e,unlikeModalVisible:!0})},n.getLadderId=function(){return n.props.match.params.id},n.showLikeModal=function(){n.setState({likeModalVisible:!0})},n.closeLikeModal=function(){n.setState({likeModalVisible:!1})},n.closeUnlikeModal=function(){n.setState({unlikeModalVisible:!1})},n.handleLogin=function(){n.props.history.push("/accounts/signin/")},n.handleErr=function(e,t){var r=e.err,a=n.getLadderId();if(r){if(r.data&&r.data.type){var o=r.data.type,i={id:a,cover:r.data.cover,title:r.data.title};switch(parseInt(o,10)){case x.LadderPrivacy.JIUZHANG:t?n.enterNotPaidPage({message:r.data.message,errorType:r.data.error_type}):n.enterJiuZhangAuthPage();break;case x.LadderPrivacy.PASSWORD:n.enterPasswordPage(i)}return}403!==r.status||O.default.detail.auth?n.props.showHttpError(r.status):n.handleLogin()}else I.default.getLevels(a).then(function(){n.setState({loading:!1})})},n.enterNotPaidPage=function(e){n.props.setNewState({component:w.default,otherProps:e})},n.enterJiuZhangAuthPage=function(){n.props.showJiuZhangAuth()},n.enterPasswordPage=function(e){n.props.setNewState({component:function(){return n.createLadderPassword(e)}})},n.createLadderPassword=function(e){return E.default.createElement("div",{className:"full-width full-height flex-center"},E.default.createElement(d.default,{className:"flex-stretch"},E.default.createElement(M.default,p({},e,{didJoinLadder:function(){return n.props.clear()}}))))},n.createLevel=function(e){var t=2<=e.level&&!I.default.detail.is_fully_open;return E.default.createElement(N.default,{key:e.level,needPassword:t,onClickLike:n.onClickLike,level:e,ladderType:I.default.detail.type,userLevel:I.default.detail.user_level,onClickUnlike:n.onClickUnlike,onClickUnlock:n.openPasswordModal})},n.handleJoinedLadder=function(){n.fetchData(),n.setState({passwordModalVisible:!1})},n.closePasswordModal=function(){n.setState({passwordModalVisible:!1})},n.openPasswordModal=function(){n.setState({passwordModalVisible:!0})},n.updateStatus=function(){n.setState({updateStatusLoading:!0},U(regeneratorRuntime.mark(function e(){var t,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.getLadderId(),e.next=3,O.default.updateJiuZhangInfo();case 3:return e.next=5,y.retrieveLadder(t);case 5:r=e.sent,a=r.err,i=r.data,a||(I.default.detail=i),n.setState({updateStatusLoading:!1});case 10:case"end":return e.stop()}},e,o)})))},F(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,E.default.Component),m(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"getShareDescription",value:function(){return(0,this.context.intl.formatMessage)({id:"ladder.share ladder button text",defaultMessage:"I'have unlocked the level {level} of {ladderTitle} on LintCode. Join me!"},{ladderTitle:I.default.detail.title,level:I.default.detail.unlocked_level_count})+"#LintCode#"}},{key:"fetchData",value:function(){var e=this,t=this.getLadderId();z.default.setFromId(parseInt(t,10));var r=[I.default.retrieve(t)];O.default.fetch(),void 0===O.default.jiuzhangInfo.auth&&r.push(O.default.getJiuZhangInfo()),Promise.all(r).then(function(t){1===t.length?e.handleErr(t[0],O.default.jiuzhangInfo.auth):e.handleErr(t[0],void 0===t[1].err)})}},{key:"render",value:function(){if(this.state.loading)return E.default.createElement(_.default,null);var t=I.default.detail,r=I.default.levels,n=t.user_level>t.level_count?r[r.length-1]:r.find(function(e){return e.is_active}),a=n.required_problems.length-n.required_passed,o=t.privacy===x.LadderPrivacy.JIUZHANG&&t.jiuzhang_course_id&&23===t.jiuzhang_course_id;return E.default.createElement("div",{className:"dynamic-width-content"},t.unlocked_level_count<r.length&&E.default.createElement(c.default,{type:"info",message:e("remaining problems","ladder",{remaining_problems:a})}),E.default.createElement("div",{className:"ladder-main-content"},E.default.createElement(s.default,null,E.default.createElement(s.default.Item,null,E.default.createElement("a",{href:"/"},e("Home"))),E.default.createElement(s.default.Item,null,E.default.createElement(j.Link,{to:"/ladder/"},e("Ladder","sider"))),E.default.createElement(s.default.Item,null,t.title)),E.default.createElement(i.default,{type:"flex"},E.default.createElement(u.default,{className:"clear-fix levels",xs:24,sm:24,md:18},t.type===x.LadderType.GREEN_CHANNEL&&E.default.createElement(L.default,null),r.map(this.createLevel)),!P.default.isMobile&&E.default.createElement(u.default,{sm:0,md:6},E.default.createElement(S.default,{ladder:t,className:"ladder-detail-card"}),t.learning_materials&&E.default.createElement(d.default,{title:e("Learning Material","ladder")},E.default.createElement(A.default,{source:t.learning_materials})),t.privacy===x.LadderPrivacy.JIUZHANG&&0<=t.remain_days&&E.default.createElement("div",{style:{padding:"15px 0"}},E.default.createElement(d.default,{loading:this.state.updateStatusLoading},o?E.default.createElement(k.FormattedHTMLMessage,{id:"ladder.interaction_ladder_expire_days",defaultMessage:"Your access permission for this ladder will be expired in <b>{days}</b> days according to the one year access policy of Jiuzhang.",values:{days:t.remain_days}}):E.default.createElement(k.FormattedHTMLMessage,{id:"ladder.expire_days",defaultMessage:"Your access permission for this ladder will be expired in <b>{days}</b> days according to the one year access policy of Jiuzhang.",values:{days:t.remain_days}}),E.default.createElement("div",{className:"flex-center m-t-10"},E.default.createElement(l.default,{onClick:this.updateStatus,loading:this.state.updateStatusLoading,type:"primary"},e("Update Status"))))),E.default.createElement("div",{className:"flex-center"},E.default.createElement(R.default,{url:location.href,title:this.getShareDescription()}))))),this.state.likeModalVisible&&E.default.createElement(g.default,{visible:this.state.likeModalVisible,onCancel:this.closeLikeModal,pendingProblem:this.state.pendingProblem}),this.state.unlikeModalVisible&&E.default.createElement(g.default,{visible:this.state.unlikeModalVisible,onCancel:this.closeUnlikeModal,pendingProblem:this.state.pendingProblem}),E.default.createElement(T.default,{id:this.getLadderId(),cover:t.cover,title:t.title,visible:this.state.passwordModalVisible,didJoinLadder:this.handleJoinedLadder,onCancel:this.closePasswordModal}))}}]),r}(),a.contextTypes={intl:b.default.object},n=o))||n)||n;t.default=V}).call(this,r(44).default)},3152:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i=y(r(1273)),l=y(r(30)),u=y(r(14)),s=y(r(1282)),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(1274),r(87),r(116),r(1283);var d=y(r(0)),f=r(28),p=y(r(1)),m=r(31),b=y(r(57)),h=r(3153);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(3154);var g=(0,f.observer)((o=a=function(t){function r(){var e,t,n,a=this;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return(t=n=v(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i)))).state={updateLoading:!1},n.updateJiuZhangAuth=function(e){var t;e.preventDefault(),n.setState({updateLoading:!0},(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.default.updateJiuZhangInfo();case 2:n.props.clear();case 3:case"end":return e.stop()}},e,a)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(a,o){try{var i=e[a](o),l=i.value}catch(a){return void r(a)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});t(l)}("next")})}))},v(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,d.default.Component),c(r,[{key:"render",value:function(){var t=b.default.jiuzhangInfo.jiuzhang_data,r=t.username,n=t.email,a=t.ladder_info,o=e("Error"),c=this.props.errorType;switch(parseInt(c,10)){case h.LadderErrorType.EXPIRED:o=e("Your Permission Is Expired");break;case h.LadderErrorType.NOTPAID:o=e("You Don't Register This Course");break;case h.LadderErrorType.EXPIRED_INTRACTION_SUBSCRIPTION:o=e("Your value-added service of interactive course's ladder has expired");break;case h.LadderErrorType.NOT_SUBSCRIBED_INTERACTION:o=e("You didn't pay for value-added services of interactive course's ladder")}return d.default.createElement("div",{className:"full-height full-width flex-center not-paid"},d.default.createElement(i.default,{style:{width:"60%"}},d.default.createElement(s.default,{message:d.default.createElement("h2",{className:"text-center"},o),description:d.default.createElement("h3",{className:"text-center"},this.props.message),type:"error"}),d.default.createElement("div",{className:"flex-center",style:{marginTop:40}},d.default.createElement("div",{className:"jiuzhang-info"},d.default.createElement("p",{className:"text-left"},e("JiuZhang Username","jiuzhang"),": ",r),d.default.createElement("p",{className:"text-left"},e("JiuZhang Email","jiuzhang"),": ",n),a&&0<a.length&&d.default.createElement("div",null,d.default.createElement("p",{className:"text-success"},d.default.createElement(u.default,{type:"check"}),e("Accessible Jiuzhang Ladders","profile"),":"),a.map(function(e){return d.default.createElement("a",{href:"/ladder/"+e.ladder_id+"/",key:e.ladder_id},d.default.createElement("p",null,e.ladder_title))})))),d.default.createElement("div",{className:"clearfix m-t-20"},d.default.createElement(m.Link,{to:"/ladder/",className:"continue-link"},e("Back")),d.default.createElement(l.default,{onClick:this.updateJiuZhangAuth,className:"float-right",type:"primary",loading:this.state.updateLoading},e("Update Status")))))}}]),r}(),a.propTypes={clear:p.default.func.isRequired},n=o))||n;t.default=g}).call(this,r(44).default)},3153:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LadderErrorType={EXPIRED:1,NOTPAID:2,EXPIRED_INTRACTION_SUBSCRIPTION:3,NOT_SUBSCRIBED_INTERACTION:4}},3154:function(e,t,r){},3155:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=p(r(1273)),a=p(r(14)),o=p(r(1304)),i=p(r(30)),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(1274),r(116),r(1299),r(87);var u=p(r(0)),s=r(72),c=p(r(3156)),d=p(r(3158)),f=p(r(1397));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(3159);var b=function(t){function r(){var t,n,l;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);for(var d=arguments.length,p=Array(d),b=0;b<d;b++)p[b]=arguments[b];return(n=l=m(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(p)))).state={JDVisible:!1,coverLetterVisible:!1,resumeSubmitted:f.default.detail.resume_submitted||!1},l.openWinnerInfoModal=function(){l.setState({coverLetterVisible:!0})},l.closeWinnerInfoModal=function(){l.setState({coverLetterVisible:!1})},l.submitResume=function(){l.setState({resumeSubmitted:!0})},l.openJDModal=function(){l.setState({JDVisible:!0})},l.closeJDModal=function(){l.setState({JDVisible:!1})},l.createLadderDescription=function(){var t=f.default.detail;return u.default.createElement("div",null,u.default.createElement("div",{className:"green-channel-description"},u.default.createElement("h3",null,e("Required language","ladder"),": ",t.required_language),u.default.createElement("p",null,u.default.createElement(s.FormattedMessage,{id:"ladder.green_channel_tips",defaultMessage:"You must pass at least {minimum} problems (including required and optional problems) to unlock the green channel of hiring.",values:{minimum:t.green_channel_minimum}})),u.default.createElement(i.default,{type:"primary",onClick:l.openJDModal},e("View job description","ladder"))),u.default.createElement(o.default,{className:"green-channel-dashboard",type:"dashboard",percent:t.total_passed_problems/t.problem_count*100,format:function(){return t.total_passed_problems+" / "+t.problem_count}}))},l.createPassedInfo=function(){return u.default.createElement("div",null,u.default.createElement("h3",null,e("Green channel congratulation","ladder")),u.default.createElement("p",null,e("Green channel passed","ladder")),u.default.createElement("p",null,e("Green channel disclaimer","ladder")),l.createGreenChannelButtons())},l.createGreenChannelButtons=function(){return u.default.createElement("div",{className:"green-channel-buttons"},u.default.createElement(i.default,{type:"primary",onClick:l.openWinnerInfoModal},u.default.createElement(a.default,{type:"edit"}),l.state.resumeSubmitted?e("Green channel update","ladder"):e("Green channel upload","ladder")),u.default.createElement(i.default,{onClick:l.openJDModal},e("View job description","ladder")),u.default.createElement(c.default,{visible:l.state.coverLetterVisible,submitResume:l.submitResume,onCancel:l.closeWinnerInfoModal}))},l.createFinalInfo=function(){return u.default.createElement("div",null,u.default.createElement("div",{className:"green-channel-description"},u.default.createElement("h3",null,e("Green ladder done","ladder")),u.default.createElement("p",null,e("You have submitted","ladder")),l.createGreenChannelButtons()),u.default.createElement(o.default,{className:"green-channel-dashboard",type:"dashboard",percent:100}))},l.createContent=function(){return l.state.resumeSubmitted?l.createFinalInfo():f.default.detail.total_passed_problems>=f.default.detail.green_channel_minimum?l.createPassedInfo():l.createLadderDescription()},m(l,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,u.default.Component),l(r,[{key:"render",value:function(){return u.default.createElement(n.default,{title:f.default.detail.title,className:"ladder-green-channel-header"},this.createContent(),u.default.createElement(d.default,{visible:this.state.JDVisible,onCancel:this.closeJDModal}))}}]),r}();t.default=(0,s.injectIntl)(b)}).call(this,r(44).default)},3156:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(120)),a=y(r(1415)),o=y(r(30)),i=y(r(14)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(119),r(1395),r(87),r(116);var s=y(r(1)),c=r(0),d=y(c),f=y(r(215)),p=r(72),m=y(r(155)),b=y(r(1397)),h=r(1468);function y(e){return e&&e.__esModule?e:{default:e}}r(3157);var v=function(t){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));n.handleSubmit=function(){var e=new FormData;e.append("resume",n.state.resume),e.append("cover_letter",n.state.coverLetter),n.setState({uploading:!0},function(){(0,h.submitWinnerInfo)(b.default.detail.id,e).then(function(){n.setState({uploading:!1,resume:null}),n.props.submitResume(),n.props.onCancel(),m.default.success(n.props.intl.formatMessage({id:"ladder.Upload successfully",defaultMessage:"Upload successfully"}))}).catch(function(){n.setState({uploading:!1}),m.default.error(n.props.intl.formatMessage({id:"ladder.Network is blocking",defaultMessage:"Network is blocking, please try again later"}))})})},n.isResumeValid=function(e){var t=n.props.intl.formatMessage;return 0<=e.type.indexOf("pdf")?!!(e.size/1024/1024<10)||(m.default.error(t({id:"ladder.The file size must be less than 10MB",defaultMessage:"The file size must be less than 10MB"})),!1):(m.default.error(t({id:"ladder.Only allow uploading PDF",defaultMessage:"Only allow uploading PDF"})),!1)};var a=b.default.detail;return n.state={resume:null,coverLetter:localStorage.getItem("smde_cover_letter_"+a.id)||a.cover_letter,uploading:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,c.Component),u(r,[{key:"render",value:function(){var t=this,r=this.props,u=r.visible,s=r.onCancel,c={beforeUpload:function(e){return t.isResumeValid(e)&&t.setState({resume:e}),!1}};return d.default.createElement(n.default,{className:"ladder-winner-info-modal",visible:u,title:e("Submit your information","ladder"),footer:this.state.uploading?d.default.createElement(o.default,null,d.default.createElement(i.default,{type:"loading"})):d.default.createElement(o.default,{type:"primary",onClick:this.handleSubmit,disabled:!this.state.resume||!this.state.coverLetter},d.default.createElement(i.default,{type:"rocket"}),e("Green channel submit","ladder")),onCancel:s,maskClosable:!1},d.default.createElement("div",{className:"ladder-resume-field"},d.default.createElement("span",null,e("Select resume","ladder"),": "),d.default.createElement(a.default,l({className:"ladder-select-resume"},c),d.default.createElement(o.default,{size:"small",type:"dashed"},d.default.createElement(i.default,{type:"plus"}),this.state.resume&&this.state.resume.name||"PDF"," "))),d.default.createElement("p",null,e("Cover letter","ladder"),": "),d.default.createElement(f.default,{value:this.state.coverLetter,onChange:function(e){t.setState({coverLetter:e},function(){localStorage.setItem("smde_cover_letter_"+b.default.detail.id,t.state.coverLetter)})},options:{spellChecker:!1,status:!1,showIcons:["code"]}}))}}]),r}();v.propTypes={visible:s.default.bool.isRequired,submitResume:s.default.func.isRequired,onCancel:s.default.func.isRequired},v.defaultProps={visible:!1,submitResume:function(){},onCancel:function(){}},t.default=(0,p.injectIntl)(v)}).call(this,r(44).default)},3157:function(e,t,r){},3158:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(120)),a=y(r(14)),o=y(r(30)),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(119),r(116),r(87);var l=y(r(1)),u=r(0),s=y(u),c=y(r(215)),d=r(72),f=y(r(155)),p=y(r(57)),m=y(r(472)),b=y(r(1397)),h=r(1468);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(t){function r(){var t,n,i;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return(n=i=v(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(u)))).state={jobDescription:b.default.detail.job_description||"",editing:!1,uploading:!1},i.openEditor=function(){i.setState({editing:!0})},i.closeEditor=function(){i.setState({editing:!1})},i.handleSubmit=function(){var e={job_description:i.state.jobDescription};i.setState({uploading:!0},function(){(0,h.editJobDescription)(b.default.detail.id,e).then(function(){i.setState({uploading:!1}),i.closeEditor(),f.default.success(i.props.intl.formatMessage({id:"ladder.Upload successfully",defaultMessage:"Upload successfully"}))}).catch(function(){i.setState({uploading:!1}),f.default.error(i.props.intl.formatMessage({id:"ladder.Network is blocking",defaultMessage:"Network is blocking, please try again later"}))})})},i.createFooter=function(){var t=p.default.detail;return t.is_superuser||t.is_staff?i.state.editing?i.state.loading?s.default.createElement(o.default,null,s.default.createElement(a.default,{type:"loading"})):s.default.createElement(o.default,{type:"primary",onClick:i.handleSubmit,disabled:!i.state.jobDescription},e("Save job description","ladder")):s.default.createElement(o.default,{onClick:i.openEditor},e("Edit job description","ladder")):null},v(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,u.Component),i(r,[{key:"render",value:function(){var t=this,r=this.props,a=r.visible,o=r.onCancel;return s.default.createElement(n.default,{className:"ladder-jd-modal",visible:a,title:e("Job description","ladder"),footer:this.createFooter(),onCancel:o,maskClosable:!this.state.editing},this.state.editing?s.default.createElement(c.default,{value:this.state.jobDescription,onChange:function(e){t.setState({jobDescription:e})},options:{spellChecker:!1,status:!1}}):s.default.createElement(m.default,{source:this.state.jobDescription}))}}]),r}();g.propTypes={visible:l.default.bool.isRequired,onCancel:l.default.func.isRequired},g.defaultProps={visible:!1,onCancel:function(){}},t.default=(0,d.injectIntl)(g)}).call(this,r(44).default)},3159:function(e,t,r){},3160:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a,o=h(r(1273)),i=h(r(30)),l=h(r(14)),u=h(r(1294)),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(1274),r(87),r(116),r(1287);var c=h(r(0)),d=h(r(1)),f=r(1600),p=h(r(1431));r(3161);var m=r(2816),b=r(1601);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=u.default.TabPane,g=(a=n=function(t){function r(){var e,t,n;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=n=y(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o)))).createProblem=function(e){return c.default.createElement(p.default,{onClickLike:n.props.onClickLike,onClickUnlike:n.props.onClickUnlike,key:e.id,problem:e,from:"ladder"})},y(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,c.default.Component),s(r,[{key:"createLevelIcon",value:function(){var e=this.props,t=e.level;return e.userLevel===t.level?c.default.createElement(l.default,{className:"big-icon",type:"unlock"}):t.is_full_passed?c.default.createElement(f.FaStar,{className:"big-icon text-yellow"}):c.default.createElement(f.FaStarHalfEmpty,{className:"big-icon text-yellow"})}},{key:"createLockedLevel",value:function(){var t=this.props,r=t.level,n=t.needPassword,a=t.onClickUnlock;return c.default.createElement(o.default,{className:"ladder-level"},c.default.createElement("div",{className:"ant-tabs-bar",style:{borderBottom:"1px solid #d9d9d9"}},c.default.createElement("h2",{style:{height:40}},r.level," - ",r.title,c.default.createElement(l.default,{className:"big-icon",type:"lock"}))),c.default.createElement("div",{className:"lock-info"},n?c.default.createElement(c.default.Fragment,null,c.default.createElement("span",{className:"info-span"},e("Become Lintcode VIP or enter password to unlock this ladder.","ladder")),c.default.createElement(i.default,{className:"unlock-button",type:"primary",onClick:a},e("Unlock","ladder"))):c.default.createElement("span",{className:"info-span"},e("Solve all required problems above to unlock this level","ladder"))))}},{key:"render",value:function(){var e=this.props,t=e.level,n=e.ladderType;return t.is_locked?this.createLockedLevel():c.default.createElement(o.default,{className:"ladder-level"},c.default.createElement(u.default,{tabBarExtraContent:c.default.createElement("h2",null,t.level," - ",t.title," ",this.createLevelIcon())},c.default.createElement(v,{tab:c.default.createElement(m.LevelProblemType,{type:-1!==b.COMPANY_TYPES.indexOf(n)?"Required High Frequency":"Required",passedCount:t.required_passed,allCount:t.required_problems.length}),key:"1"},0===t.required_problems.length?r.BlankLevel:t.required_problems.map(this.createProblem)),0<t.optional_problems.length&&c.default.createElement(v,{tab:c.default.createElement(m.LevelProblemType,{type:-1!==b.COMPANY_TYPES.indexOf(n)?"High Frequency":"Optional",passedCount:t.optional_passed,allCount:t.optional_problems.length}),key:"2"},0===t.optional_problems.length?r.BlankLevel:t.optional_problems.map(this.createProblem)),0<t.related_problems.length&&c.default.createElement(v,{tab:c.default.createElement(m.LevelProblemType,{type:-1!==b.COMPANY_TYPES.indexOf(n)?"Others":"Related",passedCount:t.related_passed,allCount:t.related_problems.length}),key:"3"},0===t.related_problems.length?r.BlankLevel:t.related_problems.map(this.createProblem))))}}]),r}(),n.propTypes={needPassword:d.default.bool,level:d.default.object.isRequired,ladderType:d.default.number.isRequired,userLevel:d.default.number.isRequired,onClickLike:d.default.func.isRequired,onClickUnlike:d.default.func.isRequired,onClickUnlock:d.default.func},n.defaultProps={needPassword:!1,onClickUnlock:function(){}},n.BlankLevel=c.default.createElement("h4",{style:{padding:"10px 16px"}},e("Problem set is empty","ladder")),a);t.default=g}).call(this,r(44).default)},3161:function(e,t,r){},3162:function(e,t,r){},3163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(120));r(119);var a=l(r(1)),o=l(r(0)),i=l(r(2817));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return o.default.createElement(n.default,{footer:null,onCancel:e.onCancel,visible:e.visible},o.default.createElement(i.default,{className:"m-l-20 m-r-20",id:e.id,cover:e.cover,title:e.title,didJoinLadder:e.didJoinLadder}))};u.propTypes={id:a.default.string.isRequired,cover:a.default.string.isRequired,title:a.default.string.isRequired,visible:a.default.bool,onCancel:a.default.func.isRequired,didJoinLadder:a.default.func.isRequired},u.defaultProps={visible:!1},t.default=u},3164:function(e,t,r){}}]);